#include<stdio.h>
main()
{
    int a[4][4]={{1,4,7,1},
                 {6,4,9,3},
                 {2,8,3,5},
                 {9,7,2,4}};
    char n[20];
    int i=0,temp,j;
    gets(n);
    while(n[i]!='\0')
    {
        if(n[i]=='R')
        {
                temp = a[n[i+1]-'1'][3];
                a[n[i+1]-'1'][3] = a[n[i+1]-'1'][2];
                a[n[i+1]-'1'][2] = a[n[i+1]-'1'][1];
                a[n[i+1]-'1'][1] = a[n[i+1]-'1'][0];
                a[n[i+1]-'1'][0] = temp;
        }
        if(n[i]=='L')
        {
                temp = a[n[i+1]-'1'][3];
                a[n[i+1]-'1'][3] = a[n[i+1]-'1'][0];
                a[n[i+1]-'1'][0] = a[n[i+1]-'1'][1];
                a[n[i+1]-'1'][1] = a[n[i+1]-'1'][2];
                a[n[i+1]-'1'][2] = temp;
        }
        if(n[i]=='U')
        {
                temp = a[n[i+1]-'1'][0];
                a[0][n[i+1]-'1'] = a[1][n[i+1]-'1'];
                a[1][n[i+1]-'1'] = a[2][n[i+1]-'1'];
                a[2][n[i+1]-'1'] = a[3][n[i+1]-'1'];
                a[3][n[i+1]-'1'] = temp;
        }
        if(n[i]=='D')
        {
                temp = a[n[i+1]-'1'][0];
                a[n[i+1]-'1'][0] = a[n[i+1]-'1'][3];
                a[n[i+1]-'1'][3] = a[n[i+1]-'1'][2];
                a[n[i+1]-'1'][2] = a[n[i+1]-'1'][1];
                a[n[i+1]-'1'][1] = temp;
        }
        i+=2;
    }
    for(i=0;i<4;i++)
    {
        for(j=0;j<4;j++)
        {
            printf("%d",a[i][j]);
        }
        printf("\n");
    }
}
